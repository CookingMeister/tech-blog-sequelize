<%- include('partials/header.ejs') %>

<div class="background-user">

  <h1 class="text-center yellow clear p-5">User Profile</h1>

   <!-- Home button -->
 <a href="/" class="btn btn-info clear home m-2">
  <i class="far fa-newspaper mr-2"></i>
    The Tech Blog
 </a>

  <!-- Logout button -->
  <button type="submit" class="btn btn-info clear logout-btn m-2 px-3">
    Logout
    <i class="fas fa-sign-out-alt ml-2 logout-icon clear"></i>
  </button>

  <!-- User Profile Section -->
  <div class="container clear profile pt-5">
  
    <% if (user) { %>
    <ul class="d-flex justify-content-center">
        <li class="mb-3">ID: <%= user.id %> <br>
          Username: <%= user.username %>
          <button class="btn btn-info editDetails py-1 ml-5"
            data-id="<%= user.id %>"
            data-username="<%= user.username %>">
            <i class="fas fa-edit mr-1"></i>
            Edit
          </button>
        </li>
    </ul>
    <% } else { %>
    <p>No users found.</p>
    <% } %>
  </div>

  <!-- Bootstrap modal -->
  <div class="modal fade pt-5" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title yellow" id="editModalLabel">Edit User</h3>
          <button type="button" class="btn btn-info btn-close" data-bs-dismiss="modal" aria-label="Close">X</button>
        </div>
        <div class="modal-body">
          <h5 class="mb-3">User Profile:</h5>
          <div id="modalContent"> <!-- Auto Generated content here --> </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-info update-user-btn">
            <i class="fas fa-magic mr-1"></i>
            Update
          </button>
          <button class="btn btn-danger delete-btn user-delete">
            <i class="fas fa-trash mr-1"></i>
            Delete
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Alert Section -->
  <div class="container alert-container">
    <div class="alert alert-danger d-none w-50 text-center m-auto alert-delete" role="alert" id="alertMessage">
      Are you sure you want to delete this profile?
      <button class="btn btn-info yesClicked mx-1">Yes</button>
      <button class="btn btn-danger closeDelete mx-1">No</button>
    </div>
  </div>
  
</div>

<script src="../js/editUser.js"></script>

<%- include('partials/footer.ejs') %>